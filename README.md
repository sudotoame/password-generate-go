# Password Vault (Go)

Небольшой CLI-менеджер паролей на Go с локальным зашифрованным хранилищем.

## Возможности

- Создание аккаунта (логин/пароль/URL)
- Автогенерация пароля, если оставить поле пустым
- Поиск аккаунтов по URL или по логину
- Удаление аккаунта
- Хранение данных в файле `data.vault` **в зашифрованном виде** (AES-GCM)

## Требования

- Go **1.25.5** (см. `go.mod`)

## Быстрый старт

1) Перейдите в папку проекта:

```bash
cd dev/go-demo-3
```

2) Создайте файл `.env` (или используйте существующий) на основе `.env.example`:

```bash
cp .env.example .env
```

3) Укажите ключ шифрования `KEY` в `.env`.

4) Запустите приложение:

```bash
go run .
```

После запуска появится меню:

- `1. Создать аккаунт`
- `2. Поиск аккаунта по URL`
- `3. Поиск аккаунта по логину`
- `4. Удалить аккаунт`
- `5. Выход`

## Конфигурация (переменные окружения)

Приложение ожидает переменную окружения:

- **`KEY`**: ключ для AES. Длина должна быть **16/24/32 байта** (AES-128/192/256).  
  Пример для AES-256: строка длиной 32 символа ASCII.

Файл `.env` подхватывается при старте через `github.com/joho/godotenv`.

## Данные и формат хранилища

- **Файл хранилища**: `data.vault` в корне проекта.
- **Содержимое**: бинарные данные (nonce + ciphertext) AES-GCM.
- **Важно**: если изменить `KEY`, расшифровать старый `data.vault` не получится.

При чтении приложение:

- читает `data.vault`
- расшифровывает байты
- парсит JSON со структурой:

```json
{
  "accounts": [
    {
      "login": "user",
      "password": "secret",
      "url": "https://example.com",
      "createdat": "2026-02-19T10:00:00Z",
      "updatedAt": "2026-02-19T10:00:00Z"
    }
  ],
  "updatedAt": "2026-02-19T10:00:00Z"
}
```

## Структура проекта

- `main.go`: CLI-меню и сценарии (создать/поиск/удалить)
- `account/`: сущности `Account`, `Vault` и логика работы с ними
- `files/`: простая файловая реализация БД (чтение/запись `data.vault`)
- `encrypter/`: шифрование/расшифрование AES-GCM
- `output/`: вывод ошибок в консоль
- `cloud/`: заглушка под удалённое хранилище (не используется по умолчанию)

## Безопасность

- Не коммитьте `.env` и `*.vault` (они уже исключены в `.gitignore`).
- Не используйте короткие/предсказуемые значения `KEY`. Лучше хранить ключ в менеджере секретов/переменных окружения вашей системы.